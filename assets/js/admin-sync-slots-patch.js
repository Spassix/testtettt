!function(){"use strict";if("undefined"!=typeof window){window.p||(window.p=function(t){try{const e=document.getElementById("timeslotList");if(!e||!t||!Array.isArray(t)||0===t.length)return;const r=t.filter(o=>!1!==o.enabled);if(0===r.length)return void(e.innerHTML='<p style="color: rgba(255,255,255,0.5); text-align: center;">Aucun crÃ©neau disponible</p>');e.innerHTML=r.map(o=>`<button class="slot-btn" data-slot="${o.id||o.value||o.name}">${o.label||o.name||o.value}</button>`).join(""),e.querySelectorAll(".slot-btn").forEach(o=>{o.addEventListener("click",function(){e.querySelectorAll(".slot-btn").forEach(a=>a.classList.remove("active")),this.classList.add("active");const s=document.getElementById("recapTimeslot");s&&(s.textContent=this.textContent)})}),console.log("CrÃ©neaux horaires mis Ã  jour:",r.length)}catch(error){console.error("Erreur cart slots:",error)}});let pollingInitialized=!1;setInterval(function(){pollingInitialized||(setTimeout(function(){const reviewsData=localStorage.getItem("site_reviews");if(reviewsData&&localStorage.getItem("site_reviews_timestamp"))try{JSON.parse(reviewsData),window.loadReviews&&window.loadReviews()}catch(e){console.error("Erreur parsing reviews:",e)}},2e3),pollingInitialized=!0)},5e3),window.addEventListener("storage",function(e){"site_reviews"===e.key&&window.loadReviews&&(console.log("ðŸ”„ Reviews mis Ã  jour, rechargement..."),window.loadReviews())}),window.addEventListener("adminDataUpdated",function(e){e.detail&&"reviews"===e.detail.key&&window.loadReviews&&(console.log("ðŸ”„ Reviews mis Ã  jour depuis admin, rechargement..."),window.loadReviews())})}}();