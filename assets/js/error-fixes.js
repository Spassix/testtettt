!function(){"use strict";if(void 0===window.cartCount){const cartCountProxy={textContent:"0",style:{display:"none"},set textContent(value){this._textContent=value;const badge=document.getElementById("cartCountBadge");badge&&(badge.textContent=value,badge.style.display=value&&"0"!==value?"inline-flex":"none")},get textContent(){return this._textContent||"0"}},cartCountBadge=document.getElementById("cartCountBadge");if(cartCountBadge)window.cartCount=cartCountBadge;else if(window.cartCount=cartCountProxy,"loading"===document.readyState)document.addEventListener("DOMContentLoaded",function(){const badge=document.getElementById("cartCountBadge");badge&&(window.cartCount=badge)});else{const badge=document.getElementById("cartCountBadge");badge&&(window.cartCount=badge)}console.log("✅ cartCount défini (proxy ou élément réel)")}window.p||(window.p=function(t){try{const e=document.getElementById("timeslotList");if(!e||!t||!Array.isArray(t)||0===t.length)return;const r=t.filter(o=>!1!==o.enabled);if(0===r.length)return void(e.innerHTML='<p style="color: rgba(255,255,255,0.5); text-align: center;">Aucun créneau disponible</p>');e.innerHTML=r.map(o=>`<button class="slot-btn" data-slot="${o.id||o.value||o.name}">${o.label||o.name||o.value}</button>`).join(""),e.querySelectorAll(".slot-btn").forEach(o=>{o.addEventListener("click",function(){e.querySelectorAll(".slot-btn").forEach(a=>a.classList.remove("active")),this.classList.add("active");const s=document.getElementById("recapTimeslot");s&&(s.textContent=this.textContent)})}),console.log("Créneaux horaires mis à jour:",r.length)}catch(error){console.error("Erreur cart slots:",error)}},console.log("✅ Fonction p définie")),console.log("✅ Error fixes chargés")}();