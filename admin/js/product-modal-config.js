async function initProductModal(){await loadProductModalConfig(),setupProductModalUI()}async function loadProductModalConfig(){const configData={bgColor:"#1a1a2e",borderColor:"#6366f1",borderRadius:24,overlayOpacity:80,layout:"60-40",showVideoControls:!0,autoPlay:!0,showTags:!0,titleColor:"#ffffff",priceColor:"#ffffff",textColor:"#cccccc",btnBgColor:"#6366f1",btnTextColor:"#ffffff",btnText:"Ajouter au panier",...await BackendData.loadData("productModal")};document.getElementById("productModalBgColor").value=configData.bgColor,document.getElementById("productModalBorderColor").value=configData.borderColor,document.getElementById("productModalBorderRadius").value=configData.borderRadius,document.getElementById("productModalOverlayOpacity").value=configData.overlayOpacity,document.getElementById("productModalOverlayOpacityValue").textContent=`${configData.overlayOpacity}%`,document.getElementById("productModalLayout").value=configData.layout,document.getElementById("productModalShowVideoControls").checked=configData.showVideoControls,document.getElementById("productModalAutoPlay").checked=configData.autoPlay,document.getElementById("productModalShowTags").checked=configData.showTags,document.getElementById("productModalTitleColor").value=configData.titleColor,document.getElementById("productModalPriceColor").value=configData.priceColor,document.getElementById("productModalTextColor").value=configData.textColor,document.getElementById("productModalBtnBgColor").value=configData.btnBgColor,document.getElementById("productModalBtnTextColor").value=configData.btnTextColor,document.getElementById("productModalBtnText").value=configData.btnText}function setupProductModalUI(){const saveBtn=document.getElementById("saveProductModalBtn"),overlayOpacity=document.getElementById("productModalOverlayOpacity"),overlayOpacityValue=document.getElementById("productModalOverlayOpacityValue");overlayOpacity&&overlayOpacityValue&&overlayOpacity.addEventListener("input",e=>{overlayOpacityValue.textContent=`${e.target.value}%`}),saveBtn&&saveBtn.addEventListener("click",async()=>{const config={bgColor:document.getElementById("productModalBgColor").value,borderColor:document.getElementById("productModalBorderColor").value,borderRadius:parseInt(document.getElementById("productModalBorderRadius").value)||24,overlayOpacity:parseInt(document.getElementById("productModalOverlayOpacity").value)||80,layout:document.getElementById("productModalLayout").value,showVideoControls:document.getElementById("productModalShowVideoControls").checked,autoPlay:document.getElementById("productModalAutoPlay").checked,showTags:document.getElementById("productModalShowTags").checked,titleColor:document.getElementById("productModalTitleColor").value,priceColor:document.getElementById("productModalPriceColor").value,textColor:document.getElementById("productModalTextColor").value,btnBgColor:document.getElementById("productModalBtnBgColor").value,btnTextColor:document.getElementById("productModalBtnTextColor").value,btnText:document.getElementById("productModalBtnText").value.trim()||"Ajouter au panier"};await BackendData.saveData("productModal",config),localStorage.setItem("site_productModal",JSON.stringify(config)),window.dispatchEvent(new CustomEvent("adminDataUpdated",{detail:{key:"productModal",data:config}})),AdminUtils.showToast("Configuration du modal produit sauvegard√©e","success")})}window.ProductModal={initProductModal:initProductModal};