async function initMaintenance(){await loadMaintenance(),setupMaintenanceUI()}async function loadMaintenance(){const maintenance=await BackendData.loadData("maintenance");document.getElementById("maintenanceEnabled").checked=maintenance.enabled||!1,document.getElementById("maintenanceMessage").value=maintenance.message||"",updateMaintenanceStatus(maintenance.enabled)}function setupMaintenanceUI(){const saveBtn=document.getElementById("saveMaintenanceBtn"),enabledCheckbox=document.getElementById("maintenanceEnabled");enabledCheckbox.addEventListener("change",()=>{updateMaintenanceStatus(enabledCheckbox.checked)}),saveBtn&&saveBtn.addEventListener("click",async()=>{const maintenance={enabled:document.getElementById("maintenanceEnabled").checked,message:document.getElementById("maintenanceMessage").value.trim()};await BackendData.saveData("maintenance",maintenance),AdminUtils.showToast("Mode maintenance sauvegardé","success"),updateMaintenanceStatus(maintenance.enabled)})}function updateMaintenanceStatus(enabled){const status=document.getElementById("maintenanceStatus");if(!status)return;const indicator=status.querySelector(".status-indicator"),text=status.querySelector(".status-text");indicator&&indicator.classList.toggle("active",enabled),text&&(text.textContent=enabled?"Activé":"Désactivé")}window.Maintenance={initMaintenance:initMaintenance};