<!doctype html><html lang="fr"><head><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1" name="viewport"><title>Panel admin</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><link href="/admin/css/admin.css" rel="stylesheet"><style>input[type=date],input[type=email],input[type=number],input[type=password],input[type=search],input[type=text],input[type=time],input[type=url],select,textarea{background:rgba(26,26,26,.92);border:2px solid rgba(255,255,255,.08);color:#fff;border-radius:12px;padding:.875rem 1.25rem;font-family:inherit;font-size:16px;outline:0;transition:all .3s}input::placeholder,textarea::placeholder{color:#666;opacity:.85}input:focus,select:focus,textarea:focus{border-color:#6366f1;background:rgba(26,26,26,.98);box-shadow:0 0 0 4px rgba(99,102,241,.12),0 6px 14px rgba(99,102,241,.18);transform:translateY(-1px)}input:disabled,select:disabled,textarea:disabled{opacity:.6;cursor:not-allowed}input.error,input:invalid:not(:placeholder-shown),select.error,textarea.error,textarea:invalid:not(:placeholder-shown){border-color:#ef4444;box-shadow:0 0 0 4px rgba(239,68,68,.12)}textarea{min-height:110px;resize:vertical}input:-webkit-autofill,select:-webkit-autofill,textarea:-webkit-autofill{box-shadow:0 0 0 30px rgba(26,26,26,.95) inset!important;-webkit-text-fill-color:#fff!important;border:2px solid rgba(255,255,255,.08)!important}.mobile-tabbar{display:none!important;height:0!important;overflow:hidden!important}.services-manager{display:grid;gap:1.5rem}.service-item{background:rgba(26,26,26,.6);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:1.5rem;transition:.3s}.service-item:hover{border-color:rgba(99,102,241,.3);box-shadow:0 4px 20px rgba(0,0,0,.3)}.service-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.25rem;padding-bottom:1.25rem;border-bottom:1px solid rgba(255,255,255,.1)}.service-info{display:flex;align-items:center;gap:1rem;flex:1}.service-icon{font-size:2rem;line-height:1}.service-name{font-weight:700;font-size:1.1rem;margin-bottom:.25rem;color:#fff}.service-desc{font-size:.85rem;color:var(--text-muted)}.service-timeslots{margin-top:1rem;padding-top:1.25rem;border-top:1px solid rgba(255,255,255,.05)}.timeslots-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.timeslots-header span{font-weight:600;color:var(--text-secondary);font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.timeslots-list{display:grid;gap:.75rem}.btn-small{padding:.5rem 1rem;font-size:.85rem;min-height:36px}.btn-small i{margin-right:.25rem}</style></head><body><div class="login-screen" id="loginScreen"><div class="login-card"><h2>Connexion Admin</h2><form id="loginForm"><div class="form-group"><label>Nom d'utilisateur</label> <input id="loginUsername" autocomplete="username" required></div><div class="form-group"><label>Mot de passe</label> <input id="loginPassword" type="password" autocomplete="current-password" required></div><div class="form-group checkbox-group"><label><input id="rememberMe" type="checkbox"> <span>Se souvenir de moi</span></label></div><button class="btn-primary" type="submit">Se connecter</button></form></div></div><div class="hidden admin-panel" id="adminPanel"><header class="topbar"><div class="topbar-left"><button class="sidebar-toggle" id="sidebarToggle"><i class="material-icons">menu</i></button><h1 class="topbar-title">Panel admin</h1></div><div class="topbar-right"><div class="search-box"><input id="topbarSearch" type="search" placeholder="Rechercher..."> <i class="material-icons">search</i></div><button class="notifications-btn" id="notificationsBtn"><i class="material-icons">notifications</i> <span class="notification-badge" id="notificationBadge">0</span></button><div class="user-menu" id="userMenu"><div class="user-avatar" id="userAvatar">A</div><span class="user-name" id="userName">Admin</span> <i class="material-icons">arrow_drop_down</i></div></div></header><div class="hidden notifications-panel" id="notificationsPanel"><div class="notifications-header"><h3>Notifications</h3><button id="markAllReadBtn">Tout marquer comme lu</button></div><div class="notifications-list" id="notificationsList"></div></div><div class="hidden user-dropdown" id="userDropdown"><div class="user-info"><div class="user-avatar-large" id="userAvatarLarge">A</div><div><div class="user-name-large" id="userNameLarge">Admin</div><div class="user-role" id="userRoleDisplay">admin</div></div></div><div class="user-dropdown-divider"></div><button class="user-dropdown-item" id="logoutBtn"><i class="material-icons">logout</i> <span>D√©connexion</span></button></div><nav class="sidebar" id="sidebar"><ul class="sidebar-menu" id="sidebarMenu"><li><a class="menu-item active" data-page="dashboard" href="#dashboard"><i class="material-icons">dashboard</i> <span>Dashboard</span></a></li><li><a class="menu-item" data-page="products" href="#products"><i class="material-icons">inventory_2</i> <span>Produits</span></a></li><li><a class="menu-item" data-page="cart-config" href="#cart-config"><i class="material-icons">shopping_cart</i> <span>Configuration Panier</span></a></li><li><a class="menu-item" data-page="promos" href="#promos"><i class="material-icons">local_offer</i> <span>Codes Promo</span></a></li><li><a class="menu-item" data-page="banner" href="#banner"><i class="material-icons">campaign</i> <span>Banderole D√©filante</span></a></li><li><a class="menu-item" data-page="loading" href="#loading"><i class="material-icons">hourglass_empty</i> <span>√âcran de Chargement</span></a></li><li><a class="menu-item" data-page="categories" href="#categories"><i class="material-icons">category</i> <span>Cat√©gories</span></a></li><li><a class="menu-item" data-page="farms" href="#farms"><i class="material-icons">store</i> <span>Farms (Marques)</span></a></li><li><a class="menu-item" data-page="socials" href="#socials"><i class="material-icons">share</i> <span>R√©seaux Sociaux</span></a></li><li><a class="menu-item" data-page="typography" href="#typography"><i class="material-icons">text_fields</i> <span>Typographie</span></a></li><li><a class="menu-item" data-page="product-modal" href="#product-modal"><i class="material-icons">shopping_bag</i> <span>Modal Produit</span></a></li><li><a class="menu-item" data-page="users" href="#users"><i class="material-icons">people</i> <span>Utilisateurs Admin</span></a></li><li><a class="menu-item" data-page="maintenance" href="#maintenance"><i class="material-icons">settings</i> <span>Maintenance</span></a></li><li><a class="menu-item" data-page="config" href="#config"><i class="material-icons">tune</i> <span>Configuration G√©n√©rale</span></a></li><li><a class="menu-item" data-page="reviews" href="#reviews"><i class="material-icons">rate_review</i> <span>Avis</span></a></li><li><a class="menu-item" data-page="messages" href="#messages"><i class="material-icons">mail</i> <span>Messages</span></a></li></ul></nav><nav class="mobile-tabbar" id="mobileTabbar"><button class="tabbar-item active" data-page="dashboard"><i class="material-icons">dashboard</i> <span>Dashboard</span></button> <button class="tabbar-item" data-page="products"><i class="material-icons">inventory_2</i> <span>Produits</span></button> <button class="tabbar-item" data-page="cart-config"><i class="material-icons">shopping_cart</i> <span>Panier</span></button> <button class="tabbar-item" data-page="config"><i class="material-icons">settings</i> <span>Param√®tres</span></button></nav><main class="main-content"><div class="page" id="page-dashboard" data-page="dashboard"><div class="page-header"><h2>Dashboard</h2><div class="page-actions"><button class="btn-secondary" id="createTestDataBtn">Cr√©er donn√©es de test</button> <button class="btn-secondary" id="reloadDashboardBtn">Recharger</button></div></div><div class="stats-grid"><div class="stat-card"><div class="stat-icon products"><i class="material-icons">inventory_2</i></div><div class="stat-info"><div class="stat-value" id="statProducts">0</div><div class="stat-label">Produits</div></div><div class="stat-sparkline" id="sparklineProducts"></div></div><div class="stat-card"><div class="stat-icon categories"><i class="material-icons">category</i></div><div class="stat-info"><div class="stat-value" id="statCategories">0</div><div class="stat-label">Cat√©gories</div></div><div class="stat-sparkline" id="sparklineCategories"></div></div><div class="stat-card"><div class="stat-icon farms"><i class="material-icons">store</i></div><div class="stat-info"><div class="stat-value" id="statFarms">0</div><div class="stat-label">Farms</div></div><div class="stat-sparkline" id="sparklineFarms"></div></div><div class="stat-card"><div class="stat-icon users"><i class="material-icons">people</i></div><div class="stat-info"><div class="stat-value" id="statUsers">0</div><div class="stat-label">Utilisateurs Admin</div></div><div class="stat-sparkline" id="sparklineUsers"></div></div></div></div><div class="hidden page" id="page-products" data-page="products"><div class="page-header"><h2>Gestion des Produits</h2><button class="btn-primary" id="addProductBtn"><i class="material-icons">add</i> <span>Ajouter un produit</span></button></div><div class="products-toolbar" style="display:flex;gap:.75rem;align-items:center;flex-wrap:wrap;margin:0 0 12px 0"><input id="productsSearch" type="search" placeholder="Rechercher un produit (nom, cat√©gorie, farm)" style="min-width:260px"><label style="color:var(--text-muted);font-size:.9rem">Cat√©gorie</label><select id="productsFilterCategory"><option value="toutes">Toutes</option></select><label style="color:var(--text-muted);font-size:.9rem">Farm</label><select id="productsFilterFarm"><option value="">Toutes</option></select><label style="color:var(--text-muted);font-size:.9rem">Trier par</label><select id="productsSortKey"><option value="category">Cat√©gorie</option><option value="name">Nom</option><option value="farm">Farm</option><option value="price">Prix</option></select><select id="productsSortDir"><option value="asc">Ascendant</option><option value="desc">Descendant</option></select><button class="btn-secondary" id="productsResetFilters">R√©initialiser</button><style>.products-toolbar input,.products-toolbar select{background:rgba(26,26,26,.92);border:2px solid rgba(255,255,255,.08);color:#fff;border-radius:10px;padding:.55rem .8rem}</style></div><div class="products-table-container"><table class="products-table" id="productsTable"><thead><tr><th>M√©dia</th><th>Produit</th><th class="hide-md">Cat√©gorie</th><th class="hide-md">Farm</th><th>Prix</th><th>Actions</th></tr></thead><tbody id="productsTableBody"></tbody></table></div></div><div class="hidden page" id="page-cart-config" data-page="cart-config"><div class="page-header"><h2>Configuration du Panier</h2></div><div class="config-sections"><div class="config-section"><h3>Modes de Paiement</h3><div class="config-controls"><button class="btn-primary" id="addPaymentMethodBtn"><i class="material-icons">add</i> <span>Ajouter un mode de paiement</span></button><div class="items-list" id="paymentMethodsList"></div></div></div><div class="config-section"><h3>Services</h3><p style="color:var(--text-muted);margin-bottom:1rem;font-size:.9rem">Activez ou d√©sactivez les services disponibles pour vos clients</p><div class="services-manager"><div class="service-item"><div class="service-header"><div class="service-info"><span class="service-icon">üöö</span><div><div class="service-name">Livraison √† domicile</div><div class="service-desc">Service de livraison directement chez le client</div></div></div><label class="item-tag-toggle"><input id="serviceHome" type="checkbox" checked="checked"><span></span></label></div><div class="service-timeslots" data-service="home"><div class="timeslots-header"><span>Cr√©neaux horaires</span><button class="btn-secondary btn-small" onclick='openTimeslotModal(null,"home")'><i class="material-icons" style="font-size:18px">add</i> <span>Ajouter</span></button></div><div class="timeslots-list" id="timeslotsListHome"></div></div></div><div class="service-item"><div class="service-header"><div class="service-info"><span class="service-icon">üì¶</span><div><div class="service-name">Envoi postal</div><div class="service-desc">Envoi par voie postale</div></div></div><label class="item-tag-toggle"><input id="servicePostal" type="checkbox" checked="checked"><span></span></label></div><div class="service-timeslots" data-service="postal"><div class="timeslots-header"><span>Cr√©neaux horaires</span><button class="btn-secondary btn-small" onclick='openTimeslotModal(null,"postal")'><i class="material-icons" style="font-size:18px">add</i> <span>Ajouter</span></button></div><div class="timeslots-list" id="timeslotsListPostal"></div></div></div><div class="service-item"><div class="service-header"><div class="service-info"><span class="service-icon">üìç</span><div><div class="service-name">Point de rencontre</div><div class="service-desc">Rencontre √† un point convenu</div></div></div><label class="item-tag-toggle"><input id="serviceMeet" type="checkbox" checked="checked"><span></span></label></div><div class="service-timeslots" data-service="meet"><div class="timeslots-header"><span>Cr√©neaux horaires</span><button class="btn-secondary btn-small" onclick='openTimeslotModal(null,"meet")'><i class="material-icons" style="font-size:18px">add</i> <span>Ajouter</span></button></div><div class="timeslots-list" id="timeslotsListMeet"></div></div></div></div></div><div class="config-section"><h3>URL de Redirection</h3><div class="input-group"><input id="redirectUrl" type="url" placeholder="https://telegram.me/... ou https://wa.me/..."> <button class="btn-primary" id="saveRedirectUrlBtn">Enregistrer</button></div></div></div></div><div class="hidden page" id="page-promos" data-page="promos"><div class="page-header"><h2>Codes Promo</h2><button class="btn-primary" id="addPromoBtn"><i class="material-icons">add</i> <span>Ajouter un code</span></button></div><div class="promos-list" id="promosList"></div></div><div class="hidden page" id="page-banner" data-page="banner"><div class="page-header"><h2>Banderole D√©filante</h2></div><div class="config-section"><div class="input-group"><label>Texte de la banderole</label> <textarea id="bannerText" rows="3" placeholder="Votre message ici..."></textarea></div><div class="toggle-group"><label class="toggle-item"><input id="bannerEnabled" type="checkbox"> <span>Activer la banderole</span></label></div><button class="btn-primary" id="saveBannerBtn">Enregistrer</button></div></div><div class="hidden page" id="page-loading" data-page="loading"><div class="page-header"><h2>√âcran de Chargement</h2></div><div class="config-sections"><div class="config-section"><h3>G√©n√©ral</h3><div class="toggle-group"><label class="toggle-item"><input id="loadingEnabled" type="checkbox"> <span>Activer l'√©cran de chargement</span></label></div><div class="input-group"><label>Titre principal</label> <input id="loadingTitle" placeholder="LA NATION DU LAIT"></div><div class="input-group"><label>Texte de chargement</label> <input id="loadingText" placeholder="Chargement Du Menu.."></div><div class="input-group"><label>Nom de la marque (bas)</label> <input id="loadingBrand" placeholder="LANATIONDULAIT"></div><div class="input-group"><label>Dur√©e d'affichage (ms)</label> <input id="loadingDuration" type="number" placeholder="3000" min="0"></div></div><div class="config-section"><h3>Style</h3><div class="input-group"><label>Couleur de fond</label> <input id="loadingBgColor" type="color" value="#0a0e1b"></div><div class="input-group"><label>Couleur du texte</label> <input id="loadingTextColor" type="color" value="#f1f5f9"></div><div class="input-group"><label>Couleur de l'animation</label> <input id="loadingAccentColor" type="color" value="#6366f1"></div><div class="input-group"><label>Type d'animation</label> <select id="loadingAnimation"><option value="spinner">Spinner</option><option value="dots">Points</option><option value="bars">Barres</option><option value="pulse">Pulse</option></select></div></div><div class="config-section"><h3>M√©dias</h3><div class="media-upload"><label>Fond d'√©cran (image ou vid√©o)</label><div class="media-preview" id="loadingBgPreview"></div><div class="upload-options"><input id="loadingBgFile" type="file" style="display:none" accept="image/*,video/*"> <button class="btn-secondary" id="loadingBgUploadBtn">Upload</button> <input id="loadingBgUrl" type="url" placeholder="ou URL directe"> <button class="btn-secondary" id="loadingBgUrlBtn">Valider URL</button> <button class="btn-danger" id="removeLoadingBgBtn">Retirer</button></div><label>Logo personnalis√© (carr√©)</label><div class="media-preview" id="loadingLogoPreview"></div><div class="upload-options"><input id="loadingLogoFile" type="file" style="display:none" accept="image/*"> <button class="btn-secondary" id="loadingLogoUploadBtn">Upload</button> <input id="loadingLogoUrl" type="url" placeholder="ou URL directe"> <button class="btn-secondary" id="loadingLogoUrlBtn">Valider URL</button> <button class="btn-danger" id="removeLoadingLogoBtn">Retirer</button></div></div></div><button class="btn-primary" id="saveLoadingBtn">Enregistrer</button></div></div><div class="hidden page" id="page-categories" data-page="categories"><div class="page-header"><h2>Cat√©gories</h2><button class="btn-primary" id="addCategoryBtn"><i class="material-icons">add</i> <span>Ajouter une cat√©gorie</span></button></div><div class="config-sections"><div class="config-section"><div class="toggle-group"><label class="toggle-item"><input id="categoriesEnabled" type="checkbox" checked="checked"> <span>Activer les cat√©gories sur le site</span></label></div><small style="color:var(--text-muted);display:block;margin-top:.5rem">Si d√©sactiv√©, le filtre des cat√©gories ne sera pas affich√© sur le site boutique</small></div></div><div class="categories-list" id="categoriesList"></div></div><div class="hidden page" id="page-farms" data-page="farms"><div class="page-header"><h2>Farms (Marques)</h2><button class="btn-primary" id="addFarmBtn"><i class="material-icons">add</i> <span>Ajouter une farm</span></button></div><div class="config-sections"><div class="config-section"><div class="toggle-group"><label class="toggle-item"><input id="farmsEnabled" type="checkbox" checked="checked"> <span>Activer les farms sur le site</span></label></div><small style="color:var(--text-muted);display:block;margin-top:.5rem">Si d√©sactiv√©, le filtre des farms ne sera pas affich√© sur le site boutique</small></div></div><div class="farms-list" id="farmsList"></div></div><div class="hidden page" id="page-socials" data-page="socials"><div class="page-header"><h2>R√©seaux Sociaux</h2><button class="btn-primary" id="addSocialBtn"><i class="material-icons">add</i> <span>Ajouter un r√©seau</span></button></div><div class="socials-list" id="socialsList"></div></div><div class="hidden page" id="page-typography" data-page="typography"><div class="page-header"><h2>Typographie</h2></div><div class="config-sections"><div class="config-section"><h3>Configuration</h3><div class="input-group"><label>Famille de police</label><div class="fonts-grid" id="fontsGrid"></div><input id="fontFamilyCustom" placeholder="ou police personnalis√©e (ex: Arial, sans-serif)"></div><div class="input-group"><label>Taille de base (px)</label> <input id="fontSize" type="number" value="16" max="24" min="10"></div></div><div class="config-section"><h3>Aper√ßu</h3><div class="typography-preview" id="typographyPreview"><h1>Aper√ßu de la Typographie</h1><h2>Titre de niveau 2</h2><h3>Titre de niveau 3</h3><p>Ceci est un exemple de texte pour pr√©visualiser la police s√©lectionn√©e. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p><p class="preview-bold">Texte en gras pour voir le rendu.</p><p class="preview-italic">Texte en italique pour voir le rendu.</p></div></div><button class="btn-primary" id="saveTypographyBtn">Enregistrer</button></div></div><div class="hidden page" id="page-product-modal" data-page="product-modal"><div class="page-header"><h2>Configuration du Modal Produit</h2></div><div class="config-sections"><div class="config-section"><h3>Style G√©n√©ral</h3><div class="input-group"><label>Couleur de fond</label> <input id="productModalBgColor" type="color" value="#1a1a2e"></div><div class="input-group"><label>Couleur de bordure</label> <input id="productModalBorderColor" type="color" value="#6366f1"></div><div class="input-group"><label>Rayon de bordure (px)</label> <input id="productModalBorderRadius" type="number" value="24" max="50" min="0"></div><div class="input-group"><label>Opacit√© de l'overlay</label> <input id="productModalOverlayOpacity" type="range" value="80" max="100" min="0"> <span id="productModalOverlayOpacityValue">80%</span></div></div><div class="config-section"><h3>Layout</h3><div class="input-group"><label>Proportion m√©dia / contenu</label> <select id="productModalLayout"><option value="60-40">60% m√©dia / 40% contenu</option><option value="50-50">50% m√©dia / 50% contenu</option><option value="40-60">40% m√©dia / 60% contenu</option><option value="full-media">M√©dia pleine largeur</option></select></div><div class="toggle-group"><label class="toggle-item"><input id="productModalShowVideoControls" type="checkbox" checked="checked"> <span>Afficher les contr√¥les vid√©o</span></label> <label class="toggle-item"><input id="productModalAutoPlay" type="checkbox" checked="checked"> <span>Lecture automatique de la vid√©o</span></label> <label class="toggle-item"><input id="productModalShowTags" type="checkbox" checked="checked"> <span>Afficher les tags cat√©gorie/farm</span></label></div></div><div class="config-section"><h3>Couleurs du Texte</h3><div class="input-group"><label>Couleur du titre</label> <input id="productModalTitleColor" type="color" value="#ffffff"></div><div class="input-group"><label>Couleur du prix</label> <input id="productModalPriceColor" type="color" value="#8aff8a"></div><div class="input-group"><label>Couleur du texte secondaire</label> <input id="productModalTextColor" type="color" value="#cccccc"></div></div><div class="config-section"><h3>Bouton Ajouter au Panier</h3><div class="input-group"><label>Couleur de fond</label> <input id="productModalBtnBgColor" type="color" value="#6366f1"></div><div class="input-group"><label>Couleur du texte</label> <input id="productModalBtnTextColor" type="color" value="#ffffff"></div><div class="input-group"><label>Texte du bouton</label> <input id="productModalBtnText" value="Ajouter au panier"></div></div><button class="btn-primary" id="saveProductModalBtn">Enregistrer</button></div></div><div class="hidden page" id="page-users" data-page="users"><div class="page-header"><h2>Utilisateurs Admin</h2><button class="btn-primary" id="addUserBtn"><i class="material-icons">add</i> <span>Ajouter un utilisateur</span></button></div><div class="users-list" id="usersList"></div></div><div class="hidden page" id="page-maintenance" data-page="maintenance"><div class="page-header"><h2>Mode Maintenance</h2></div><div class="config-section"><div class="toggle-group"><label class="toggle-item"><input id="maintenanceEnabled" type="checkbox"> <span>Activer le mode maintenance</span></label></div><div class="input-group"><label>Message personnalis√©</label> <textarea id="maintenanceMessage" rows="4" placeholder="Site en maintenance, veuillez r√©essayer plus tard..."></textarea></div><div class="maintenance-status" id="maintenanceStatus"><span class="status-indicator"></span> <span class="status-text">D√©sactiv√©</span></div><button class="btn-primary" id="saveMaintenanceBtn">Enregistrer</button></div></div><div class="hidden page" id="page-config" data-page="config"><div class="page-header"><h2>Configuration G√©n√©rale</h2></div><div class="config-sections"><div class="config-section"><h3>Informations Boutique</h3><div class="media-upload"><label>Image de fond du site</label><div class="media-preview" id="siteBgPreview"></div><div class="upload-options"><input id="siteBgFile" type="file" style="display:none" accept="image/*"> <button class="btn-secondary" id="siteBgUploadBtn">Upload</button> <input id="siteBgUrl" type="url" placeholder="ou URL directe"> <button class="btn-secondary" id="siteBgUrlBtn">Valider URL</button> <button class="btn-danger" id="removeSiteBgBtn">Retirer</button></div></div></div><div class="config-section"><h3>Textes Page d'Accueil</h3><div class="input-group"><label>Nom de marque</label> <input id="heroBrand" placeholder="LaFabrique92"></div><div class="input-group"><label>Sous-titre / accroche</label> <input id="heroSubtitle" placeholder="Votre meilleur caf√© √† Paris üåø"></div></div><div class="config-section"><h3>Boutons Services</h3><div class="config-controls"><button class="btn-primary" id="addServiceButtonBtn"><i class="material-icons">add</i> <span>Ajouter un bouton Services</span></button><div class="items-list" id="servicesButtonsList"></div></div></div><div class="config-section"><h3>Backend</h3><div class="input-group"><label>URL du backend API</label> <input id="backendUrl" type="url" style="background:rgba(21,21,21,.6);cursor:not-allowed;opacity:.7" readonly="readonly"> <small style="color:var(--text-muted);display:block;margin-top:.5rem">L'URL backend est d√©tect√©e automatiquement depuis votre adresse actuelle</small></div><div class="backend-status" id="backendStatus"><span class="status-indicator"></span> <span class="status-text">D√©tection en cours...</span></div></div><button class="btn-primary" id="saveConfigBtn">Enregistrer tout</button></div></div><div class="hidden page" id="page-reviews" data-page="reviews"><div class="page-header"><h2>Gestion des Avis</h2></div><div class="reviews-list" id="adminReviewsList"></div></div><div class="hidden page" id="page-messages" data-page="messages"><div class="page-header"><h2>Messages de Contact</h2><div class="page-actions"><button class="btn-secondary" id="refreshMessagesBtn"><i class="material-icons">refresh</i> <span>Rafra√Æchir</span></button></div></div><div class="reviews-list" id="adminMessagesList"></div></div></main></div><div class="hidden modal-overlay" id="modalOverlay"></div><div class="hidden modal" id="productModal"><div class="modal-content"><div class="modal-header"><h3 id="productModalTitle">Ajouter un produit</h3><button class="modal-close" id="productModalClose"><i class="material-icons">close</i></button></div><div class="modal-body"><form id="productForm"><div class="form-group"><label>Nom du produit *</label> <input id="productName" required></div><div class="form-group"><label>Cat√©gorie *</label> <select id="productCategory" required></select></div><div class="form-group"><label>Farm/Marque</label> <select id="productFarm"><option value="">Aucune</option></select></div><div class="form-group"><label>Type d'unit√© *</label> <select id="productUnit" required><option value="g">g (grammes)</option><option value="ml">ml (millilitres)</option><option value="kg">kg (kilogrammes)</option><option value="L">L (litres)</option><option value="pi√®ce">pi√®ce</option><option value="unit√©">unit√©</option></select></div><div class="form-group"><label>Prix</label><div id="productPricesContainer" style="display:flex;flex-direction:column;gap:0.75rem"><div class="price-row" style="display:flex;gap:0.5rem;align-items:center"><input type="number" class="price-quantity" placeholder="Quantit√©" min="0" step="0.01" style="flex:1"><span style="color:var(--text-muted)">:</span><input type="number" class="price-value" placeholder="Prix (‚Ç¨)" min="0" step="0.01" style="flex:1"><button type="button" class="btn-danger remove-price-row" style="padding:0.5rem;min-width:auto" onclick="this.parentElement.remove()"><i class="material-icons" style="font-size:18px">delete</i></button></div></div><button type="button" class="btn-secondary" id="addPriceRowBtn" style="margin-top:0.5rem"><i class="material-icons" style="font-size:18px;vertical-align:middle">add</i> Ajouter un prix</button></div><div class="form-group"><label>Photo *</label><div class="media-upload"><div class="media-preview" id="productPhotoPreview"></div><div class="upload-options"><input id="productPhotoFile" type="file" style="display:none" accept="image/*"> <button class="btn-secondary" id="productPhotoUploadBtn" type="button">Upload</button> <input id="productPhotoUrl" type="url" placeholder="ou URL directe" required> <button class="btn-secondary" id="productPhotoUrlBtn" type="button">Valider URL</button></div></div></div><div class="form-group"><label>Vid√©o (optionnel)</label><div class="media-upload"><div class="media-preview" id="productVideoPreview"></div><div class="upload-options"><input id="productVideoFile" type="file" style="display:none" accept="video/*"> <button class="btn-secondary" id="productVideoUploadBtn" type="button">Upload</button> <input id="productVideoUrl" type="url" placeholder="ou URL directe"> <button class="btn-secondary" id="productVideoUrlBtn" type="button">Valider URL</button></div></div></div><div class="form-group"><label>Description courte</label> <textarea id="productDescription" rows="3"></textarea></div><div class="form-group checkbox-group"><label><input id="productFeatured" type="checkbox"> <span>Mettre en avant</span></label></div></form></div><div class="modal-footer"><button class="btn-secondary" id="productModalCancel">Annuler</button> <button class="btn-primary" id="productModalSave">Enregistrer</button></div></div></div><div class="hidden modal" id="categoryModal"><div class="modal-content"><div class="modal-header"><h3 id="categoryModalTitle">Ajouter une cat√©gorie</h3><button class="modal-close" id="categoryModalClose"><i class="material-icons">close</i></button></div><div class="modal-body"><form id="categoryForm"><div class="form-group"><label>Nom de la cat√©gorie *</label> <input id="categoryName" placeholder="Ex: Caf√©, Accessoires..." required></div></form></div><div class="modal-footer"><button class="btn-secondary" id="categoryModalCancel">Annuler</button> <button class="btn-primary" id="categoryModalSave">Enregistrer</button></div></div></div><div class="hidden modal" id="farmModal"><div class="modal-content"><div class="modal-header"><h3 id="farmModalTitle">Ajouter une farm</h3><button class="modal-close" id="farmModalClose"><i class="material-icons">close</i></button></div><div class="modal-body"><form id="farmForm"><div class="form-group"><label>Nom de la farm *</label> <input id="farmName" placeholder="Ex: Farm ABC, Marque XYZ..." required></div></form></div><div class="modal-footer"><button class="btn-secondary" id="farmModalCancel">Annuler</button> <button class="btn-primary" id="farmModalSave">Enregistrer</button></div></div></div><div class="hidden modal" id="userModal"><div class="modal-content"><div class="modal-header"><h3 id="userModalTitle">Ajouter un utilisateur</h3><button class="modal-close" id="userModalClose"><i class="material-icons">close</i></button></div><div class="modal-body"><form id="userForm"><div class="form-group"><label>Nom d'utilisateur *</label> <input id="userUsername" placeholder="3-20 caract√®res" required minlength="3" maxlength="20"> <small style="color:var(--text-muted);font-size:.85rem;margin-top:.25rem;display:block">Entre 3 et 20 caract√®res</small></div><div class="form-group"><label>R√¥le *</label> <select id="userRole" required><option value="">S√©lectionner un r√¥le</option><option value="manager">Manager (Acc√®s complet sauf compte admin)</option><option value="editor">Editor (Produits, Cat√©gories, Farms, Banner uniquement)</option></select></div><div class="form-group"><label id="userPasswordLabel">Mot de passe *</label> <input id="userPassword" type="password" placeholder="Minimum 6 caract√®res" required minlength="6"> <small style="color:var(--text-muted);font-size:.85rem;margin-top:.25rem;display:block">Minimum 6 caract√®res</small></div><div class="form-group" id="userConfirmPasswordGroup" style="display:none"><label>Confirmer le mot de passe</label> <input id="userPasswordConfirm" type="password" placeholder="R√©-entrez le mot de passe"></div></form></div><div class="modal-footer"><button class="btn-secondary" id="userModalCancel">Annuler</button> <button class="btn-primary" id="userModalSave">Enregistrer</button></div></div></div><div class="hidden modal" id="promoModal"><div class="modal-content"><div class="modal-header"><h3 id="promoModalTitle">Ajouter un code promo</h3><button class="modal-close" id="promoModalClose"><i class="material-icons">close</i></button></div><div class="modal-body"><form id="promoForm"><div class="form-group"><label>Code promo *</label> <input id="promoCode" placeholder="Ex: FETE10" required style="text-transform:uppercase"> <small style="color:var(--text-muted);font-size:.85rem;margin-top:.25rem;display:block">Le code sera automatiquement mis en majuscules</small></div><div class="form-group"><label>Type de r√©duction *</label> <select id="promoType" required><option value="">S√©lectionner...</option><option value="percent">Pourcentage (%)</option><option value="fixed">Montant fixe (‚Ç¨)</option></select></div><div class="form-group"><label id="promoValueLabel">Valeur *</label> <input id="promoValue" type="number" placeholder="Ex: 10 pour 10% ou 10‚Ç¨" required min="0" step="0.01"> <small style="color:var(--text-muted);font-size:.85rem;margin-top:.25rem;display:block" id="promoValueHelp">Pourcentage ou montant en euros</small></div><div class="form-group checkbox-group"><label><input id="promoEnabled" type="checkbox" checked="checked"> <span>Activer ce code promo</span></label></div></form></div><div class="modal-footer"><button class="btn-secondary" id="promoModalCancel">Annuler</button> <button class="btn-primary" id="promoModalSave">Enregistrer</button></div></div></div><div class="hidden modal" id="socialModal"><div class="modal-content"><div class="modal-header"><h3 id="socialModalTitle">Ajouter un r√©seau social</h3><button class="modal-close" id="socialModalClose"><i class="material-icons">close</i></button></div><div class="modal-body"><form id="socialForm"><div class="form-group"><label>Nom du r√©seau *</label> <select id="socialName" required><option value="">S√©lectionner...</option><option value="Instagram">Instagram</option><option value="TikTok">TikTok</option><option value="Snapchat">Snapchat</option><option value="Telegram">Telegram</option><option value="WhatsApp">WhatsApp</option><option value="Facebook">Facebook</option><option value="Twitter">Twitter</option><option value="YouTube">YouTube</option><option value="Autre">Autre</option></select> <input id="socialNameCustom" placeholder="Ou nom personnalis√©" style="margin-top:.5rem;display:none"></div><div class="form-group"><label>Lien ou handle *</label> <input id="socialUrl" placeholder="Ex: @moncompte ou https://instagram.com/..." required> <small style="color:var(--text-muted);font-size:.85rem;margin-top:.25rem;display:block">L'URL sera automatiquement normalis√©e</small></div></form></div><div class="modal-footer"><button class="btn-secondary" id="socialModalCancel">Annuler</button> <button class="btn-primary" id="socialModalSave">Enregistrer</button></div></div></div><div class="hidden modal" id="paymentModal"><div class="modal-content"><div class="modal-header"><h3 id="paymentModalTitle">Ajouter un mode de paiement</h3><button class="modal-close" id="paymentModalClose"><i class="material-icons">close</i></button></div><div class="modal-body"><form id="paymentForm"><div class="form-group"><label>Nom du mode de paiement *</label> <input id="paymentName" placeholder="Ex: Virement, Liquide, Crypto..." required></div><div class="form-group checkbox-group"><label><input id="paymentEnabled" type="checkbox" checked="checked"> <span>Activer ce mode de paiement</span></label></div></form></div><div class="modal-footer"><button class="btn-secondary" id="paymentModalCancel">Annuler</button> <button class="btn-primary" id="paymentModalSave">Enregistrer</button></div></div></div><div class="hidden modal" id="timeslotModal"><div class="modal-content"><div class="modal-header"><h3 id="timeslotModalTitle">Ajouter un cr√©neau horaire</h3><button class="modal-close" id="timeslotModalClose"><i class="material-icons">close</i></button></div><div class="modal-body"><form id="timeslotForm"><div class="form-group"><label>Service *</label><select id="timeslotServiceType" required><option value="">S√©lectionner un service</option><option value="home">üöö Livraison √† domicile</option><option value="postal">üì¶ Envoi postal</option><option value="meet">üìç Point de rencontre</option></select><small style="color:var(--text-muted);font-size:.85rem;margin-top:.25rem;display:block">Choisissez le service pour ce cr√©neau</small></div><div class="form-group"><label>Cr√©neau horaire *</label> <input id="timeslotTime" placeholder="Ex: 12:00 - 15:00" required> <small style="color:var(--text-muted);font-size:.85rem;margin-top:.25rem;display:block">Format: HH:MM - HH:MM (ex: 12:00 - 15:00)</small></div></form></div><div class="modal-footer"><button class="btn-secondary" id="timeslotModalCancel">Annuler</button> <button class="btn-primary" id="timeslotModalSave">Enregistrer</button></div></div></div><script src="/assets/js/decryptor.js"></script><script>const scripts=["js/utils.js","js/backend.js","js/modal-manager.js","js/auth.js","js/notifications.js","js/dashboard.js","js/products.js","js/products-price-patch.js","js/cart-config.js","js/promos.js","js/banner.js","js/loading.js","js/categories.js","js/farms.js","js/socials.js","js/typography.js","js/product-modal-config.js","js/users.js","js/maintenance.js","js/config.js","js/reviews.js","js/messages.js","js/admin.js"];document.addEventListener("DOMContentLoaded",async()=>{console.log("üì¶ Chargement des scripts admin...");for(const s of scripts){const n=document.createElement("script");n.src="/admin/"+s,n.async=!1,document.head.appendChild(n),await new Promise(o=>{n.onload=o,n.onerror=()=>{console.warn("‚ö†Ô∏è Script non charg√©:",s),o()}})}console.log("‚úÖ Scripts charg√©s");try{await new Promise(s=>setTimeout(s,500)),window.Auth&&"function"==typeof Auth.initAuth&&await Auth.initAuth(),window.AdminPanel&&"function"==typeof AdminPanel.initAdmin&&await AdminPanel.initAdmin()||console.warn("‚ö†Ô∏è Modules Auth ou AdminPanel non disponibles")}catch(s){console.error("‚ùå Bootstrap admin erreur:",s)}})</script></body></html>