<!doctype html><html lang="fr"><head><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1" name="viewport"><title>R√©initialiser Compte Admin</title><style>body{font-family:system-ui,-apple-system,sans-serif;max-width:600px;margin:50px auto;padding:20px;background:#1a1a1a;color:#fff}.card{background:#2a2a2a;padding:30px;border-radius:12px;border:2px solid #6366f1}h1{color:#6366f1;margin-top:0}.btn{background:#6366f1;color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:16px;margin-top:10px}.btn:hover{background:#4f46e5}.success{color:#22c55e;margin-top:20px}.error{color:#ef4444;margin-top:20px}</style></head><body><div class="card"><h1>üîê R√©initialiser Compte Admin</h1><p>Ce script va forcer la r√©initialisation du compte admin principal.</p><p><strong>Mot de passe: admin@123@123</strong></p><button class="btn" onclick="resetAdmin()">R√©initialiser</button><div id="result"></div></div><script>async function hashPassword(n,t){const e=(new TextEncoder).encode(n+t),r=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(r)).map(n=>n.toString(16).padStart(2,"0")).join("")}function generateSalt(){const n=new Uint8Array(16);return crypto.getRandomValues(n),Array.from(n,n=>n.toString(16).padStart(2,"0")).join("")}async function resetAdmin(){const n=document.getElementById("result");n.innerHTML="<p>R√©initialisation en cours...</p>";try{const t=generateSalt(),e=await hashPassword("admin@123@123",t),r=[{id:"admin_main",username:"admin",role:"founder",passwordHash:e,salt:t,createdAt:(new Date).toISOString(),protected:!0}],a=await fetch("/api/db/admin_users",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(a.ok)n.innerHTML=`\n                        <div class="success">\n                            <p><strong>‚úÖ Compte admin r√©initialis√© avec succ√®s!</strong></p>\n                            <p>Nom d'utilisateur: admin</p>\n                            <p>Mot de passe: admin@123@123</p>\n                            <p>Salt: ${t}</p>\n                            <p>Hash: ${e}</p>\n                            <p>Vous pouvez maintenant vous connecter.</p>\n                        </div>\n                    `;else{const t=await a.text();n.innerHTML=`\n                        <div class="error">\n                            <p><strong>‚ùå Erreur:</strong></p>\n                            <p>${t}</p>\n                        </div>\n                    `}}catch(t){n.innerHTML=`\n                    <div class="error">\n                        <p><strong>‚ùå Erreur:</strong></p>\n                        <p>${t.message}</p>\n                    </div>\n                `}}</script></body></html>